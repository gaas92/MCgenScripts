# This repository contains the scripts needed to generate a Z->V+ll sample 
- The steps needed for a correct generarion are this:
	- prepare.sh (should run a cmsDriver.py for every step, at this point is only gen step)
	- then run via cmsRun the correspondig step 
	- if want to run via CRAB, shuud use the crabJob.py that points to job.sh

## Some references to pythia:
- To be filled jeje


### Weak boson processes
- Weak boson processes: `WeakZ0:gmZmode (default = 0; minimum = 0; maximum = 2)`. Choice of full gamma^*/Z^0 structure or not in relevant processes:
	- option 0 : full gamma^*/Z^0 structure, with interference included.
	- option 1 : only pure gamma^* contribution.
	- option 2 : only pure Z^0 contribution.
	- Note: irrespective of the option used, the particle produced will always be assigned code 23 for Z^0, and open decay channels is purely dictated by what is set for the Z^0.

- Single boson
	- flag  `WeakSingleBoson:all`   (default = off)
		- Common switch for the group of a single gamma^*/Z^0 or W^+- production.

	- flag  `WeakSingleBoson:ffbar2gmZ`   (default = off) (currentry used in BPH-fragment)
		- Scattering f fbar → gamma^*/Z^0, with full interference between the gamma^* and Z^0. Code 221.

	- flag  `WeakSingleBoson:ffbar2W`   (default = off)
		- Scattering f fbar' → W^+-. Code 222.

	- flag  `WeakSingleBoson:ffbar2ffbar(s:gm)`   (default = off)
		- Scattering f fbar → gamma^* → f' fbar'. Subset of process 221, but written as a 2 → 2 process, so that pT can be used as ordering variable, e.g. in multiparton interactions. Hardcoded for the final state being either of the five quark flavours or three lepton ones. Not included in the WeakSingleBoson:all set, but included in the multiparton-interactions framework. Code 223.

	- flag  `WeakSingleBoson:ffbar2ffbar(s:gmZ)`   (default = off)
		- Scattering f fbar → gamma^*/Z^0 → f' fbar'. Equivalent to process 221, but written as a 2 → 2 process, so that pT could be used as cut or ordering variable. Final-state flavour selection is based on the Z^0 allowed decay modes, and the WeakZ0:gmZmode options are implemented. Not included in the WeakSingleBoson:all set. Code 224.

	- flag  `WeakSingleBoson:ffbar2ffbar(s:W)`   (default = off)
		- Scattering f_1 fbar_2 → W+- → f_3 f_4. Almost equivalent to process 222, but written as a 2 → 2 process, so that pT could be used as cut or ordering variable. Final-state flavour selection is based on the W allowed decay modes. There are two simplifications relative to the implementation in process 222. Firstly, it is not possible to set different decay modes for the W^+ and the W^-; instead the allowed W^+ ones will be used throughout, with charge conjugation for the W^-. Secondly, quark mass corrections are neglected in the decay angular distribution. Not included in the WeakSingleBoson:all set. Code 225.

- Stored properties for particles
	- The main properties stored for each particle are as follows. Different ways to set and get these properties will be described further down.
		- `name:` a character string with the name of the particle. Particle and antiparticle names are stored separately, with void returned when no antiparticle exists.
		- `spinType:` the spin type, of the form 2 s + 1, with special code 0 for entries of unknown or indeterminate spin.
		- `chargeType:` three times the charge (to make it an integer).
		- `colType:` the colour type, with 0 uncoloured, 1 triplet, -1 antitriplet and 2 octet. (A preliminary implementation of colour sextets, available since version 8.150, further uses 3 for a sextet and -3 for an antisextet.)
		- `m0:` the nominal mass m_0 (in GeV).
		- `mWidth:` the width Gamma of the Breit-Wigner distribution (in GeV).
		- `mMin:` the lower limit of the allowed mass range generated by the Breit-Wigner (in GeV). Has no meaning for particles without width, and would typically be 0 there.
		- `mMax:` the upper limit of the allowed mass range generated by the Breit-Wigner (in GeV). If mMax < mMin then no upper limit is imposed. Has no meaning for particles without width, and would typically be 0 there.
		- `tau0:` the nominal proper lifetime tau_0 (in mm/c).
		- `isResonance:` a flag telling whether a particle species is considered as a resonance or not. Here "resonance" is used as shorthand for any massive particle where the decay process should be counted as part of the hard process itself, and thus be performed before showers and other event aspects are added. Restrictions on allowed decay channels is also directly reflected in the cross section of simulated processes, while those of normal hadrons and other light particles are not. In practice, it is reserved for states above the b bbar bound systems in mass, i.e. for W, Z, t, Higgs states, supersymmetric states and (most?) other states in any new theory. All particles with m0 above 20 GeV are by default initialized to be considered as resonances.
		- `mayDecay:` a flag telling whether a particle species may decay or not, offering the main user switch. Whether a given particle of this kind then actually will decay also depends on it having allowed decay channels, and on other flags for particle decays (or resonance decays). All particles with tau0 below 1000 mm are by default initialized to allow decays.
		- `doExternalDecays:` a flag telling whether a particle should be handled by an external decay package or not, with the latter default. Can be manipulated as described on this page, but should normally not be. Instead the Pythia::decayPtr(...) method should be provided with the list of relevant particles.
		- `isVisible:` a flag telling whether a particle species is to be considered as visible in a detector or not, as used e.g. in analysis routines. By default the invisibles include neutrinos, Dark Matter particles (codes 51 - 60) and a few BSM particles (gravitino, sneutrinos, neutralinos) that have neither strong nor electromagnetic charge, and are not made up of constituents that have it. The value of this flag is only relevant if a particle is long-lived enough actually to make it to a detector.
		- `doForceWidth:` a flag applicable only for resonances (see isResonance above), whereby it is possible to force resonances to retain their assigned width, whatever that is, see Resonance Decays for details.

- Links: 
	- [Electroweak Processes](http://home.thep.lu.se/~torbjorn/pythia82html/ElectroweakProcesses.html)
	- [The Particle Data Scheme](http://home.thep.lu.se/~torbjorn/pythia82html/ParticleDataScheme.html)
	- [ZZ pythia](https://twiki.cern.ch/twiki/pub/CMSPublic/FCCeeHbbHccAnalysis/zz_cc.pythia)